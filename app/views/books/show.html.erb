<div class="container px-5 px-sm-0">
  <div class="row">
    <div class="col-md-3">
      <% if @book.errors.any? %>
        <div id=“error_explanation”>
          <h2><%= @book.errors.count %>errors prohibited this obj from being saved:</h2>
            <ul>
              <% @book.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
        </div>
      <% end %>

      <%= render 'books/list', user: @user, book: @new_book %>
    </div>

    <div class="col-md-8">
      <h2>Book detail</h2>
      <table class="table">
        <tbody>
            <% @books.each do |book| %>
              <tr>
                <td>
                  <%= attachment_image_tag book.user, :profile_image, :fill, 60, 60, fallback: "no_image.jpg" %>
                  <%= link_to book.user.name, user_path(book.user.id) %>
                </td>
                <td><%= book.title %></td>
                <td><%= book.body %></td>
                <% if @user == current_user %>
                  <td><%= link_to "Edit", edit_book_path(book.id), class: "btn btn-sm btn-success" %></td>
                  <td><%= link_to "Destroy", book_path(book.id), method: :delete, data: { confirm: "Are you sure ?"}, class: "btn btn-sm btn-danger" %></td>
                <% end %>
              </tr>
            <% end %>
          </tr>
        </tbody>
      </table>
  </div>
</div>